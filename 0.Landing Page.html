<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LICET Cafeteria</title>
  <link rel="stylesheet" href="0.Landing Page.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <!-- Top Marquee -->
  <div class="top-marquee">
    <marquee behavior="scroll" direction="left" scrollamount="8">
        Welcome to LICET Cafeteria | Fresh Meals Served Hot | Pickup slots for Lunch are available from 12:40 PM to 1:05 PM | Slots will be confirmed and assigned only after billing is completed. Thank you!
    </marquee>
    </div>
  <!-- Hamburger Menu -->
    <div class="hamburger-menu" onclick="toggleSidebar()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </div>

    <!-- Navigation of Side Bar-->
  <nav class="sidebar" id="sidebar">
  <a href="0.Landing Page.html">Home</a>
  <a href="0.Landing Page.html">Menu</a> <!-- change filename as needed -->
  <a href="6.Cart.html">Cart</a>
  <a href="Contact.html">Contact</a> <!-- or use mailto or a contact section -->
  </nav>

  <!-- Centered Logo and Title -->
  <header class="centered-header">
    <img src="Images/Landing Page/licet_logo.png" alt="LICET Cafeteria Logo" class="logo">
    <h1>LICET Cafeteria</h1>
  </header>

  <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <a href="#">Home</a>
        <a href="#">Menu</a>
        <a href="#">Cart</a>
        <a href="#">Contact</a>
    </nav>
    
  <!-- Centered Content -->
  <main class="centered-content">
    <!-- Ready-to-Grab Section -->
    <section class="section ready-to-grab">
      <h2>Ready-to-Grab</h2>
      <p>Grab pre-cooked meals ready to pick.</p>
      <div class="items">
        <a href="#"><img src="Images/Landing Page/biryani.jpg" alt="Biryani" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/idli.jpg" alt="Idli" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/south-indian.jpg" alt="South Indian Meals" loading="lazy"></a>
      </div>
      <a href="1.Ready-To-Grab.html" class="button grab-go">Grab & Go</a>
    </section>

    <!-- Cooked-to-Serve Section -->
    <section class="section cooked-to-serve">
      <h2>Cooked-to-Serve</h2>
      <p>Pick up hot & fresh, right on time.</p>
      <div class="items">
        <a href="#"><img src="Images/Landing Page/chinese.jpg" alt="Chinese" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/Parotta.jpg" alt="Parotta" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/dosa.jpg" alt="Dosa" loading="lazy"></a>
      </div>
      <a href="2.Cooked-To-Serve.html" class="button fresh-spot">Fresh on Spot</a>
    </section>

    <!-- Beverages Section -->
    <section class="section beverages">
      <h2>Beverages</h2>
      <p>Quench your thirst with refreshing drinks.</p>
      <div class="items">
        <a href="#"><img src="Images/Landing Page/coffee.jpg" alt="Coffee" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/juice.jpg" alt="Juice" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/soda.jpg" alt="Soda" loading="lazy"></a>
      </div>
      <a href="3.Beverages.html" class="button beverages-btn">Order Now</a>
    </section>

    <!-- Snacks Section -->
    <section class="section snacks">
      <h2>Snacks</h2>
      <p>Enjoy quick bites and snacks.</p>
      <div class="items">
        <a href="#"><img src="Images/Landing Page/samosa.jpg" alt="Samosa" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/Bread-Omellet.jpg" alt="Bread-Omellet" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/chips.jpg" alt="Chips" loading="lazy"></a>
      </div>
      <a href="4.Snacks.html" class="button snacks-btn">Order Now</a>
    </section>

    <!-- Side Dishes Section -->
    <section class="section side-dishes">
      <h2>Side Dishes</h2>
      <p>Complement your meal with delicious sides.</p>
      <div class="items">
        <a href="#"><img src="Images/Landing Page/fried.jpg" alt="Fried" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/Poriyal.jpg" alt="Poriyal" loading="lazy"></a>
        <a href="#"><img src="Images/Landing Page/Side-Dips.jpg" alt="Side-Dips" loading="lazy"></a>
      </div>
      <a href="5.Sidedish.html" class="button side-dishes-btn">Order Now</a>
    </section>
  </main>

  <!-- User Section with Dropdown -->
  <div class="user-section">
    <button class="user-button" onclick="toggleDropdown()">
      <img src="Images/Landing Page/User-Logo.png" alt="User Profile">
      <span class="user-info" id="userName">User Name</span>
      <i class="fas fa-chevron-down" style="margin-left: 5px; font-size: 12px;"></i>
    </button>
    
    <!-- Dropdown Menu -->
    <div class="dropdown-menu" id="dropdownMenu">
      <div class="dropdown-header">
        <div>Welcome back!</div>
      </div>
      
      <a href="#" class="dropdown-item" onclick="openProfileModal()">
        <i class="fas fa-user-edit"></i>
        <span>Update Profile</span>
      </a>
      
      <div class="dropdown-item points-section">
        <i class="fas fa-coins"></i>
        <span>Points: <strong id="userPoints">250</strong></span>
      </div>
      
      <a href="#" class="dropdown-item logout-section" onclick="logout()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </a>
    </div>
  </div>

  <!-- Profile Update Modal -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Update Profile</h2>
        <button class="close" onclick="closeProfileModal()">&times;</button>
      </div>
      
      <form id="profileForm">
        <!-- Profile Picture Section -->
        <div class="profile-pic-section">
          <div class="profile-pic-container">
            <img id="profilePicPreview" src="Images/Landing Page/User-Logo.png" alt="Profile Picture" class="profile-pic-preview">
            <div class="profile-pic-overlay" onclick="document.getElementById('profilePicInput').click()">
              <i class="fas fa-camera"></i>
            </div>
          </div>
          <div>
            <input type="file" id="profilePicInput" class="profile-pic-input" accept="image/*" onchange="handleProfilePicChange(event)">
            <button type="button" class="upload-btn" onclick="document.getElementById('profilePicInput').click()">
              <i class="fas fa-upload"></i> Choose Photo
            </button>
            <button type="button" class="remove-pic-btn" onclick="removeProfilePic()">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="fullName">Full Name</label>
          <input type="text" id="fullName" name="fullName" placeholder="Enter your full name">
        </div>
        
        <div class="form-group">
          <label for="yearOfStudy">Year of Study</label>
          <select id="yearOfStudy" name="yearOfStudy">
            <option value="">Select Year</option>
            <option value="1st Year">1st Year</option>
            <option value="2nd Year">2nd Year</option>
            <option value="3rd Year">3rd Year</option>
            <option value="4th Year">4th Year</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="batch">Batch</label>
          <input type="text" id="batch" name="batch" placeholder="e.g., 2021-2025">
        </div>
        
        <div class="form-group">
          <label for="department">Department</label>
          <select id="department" name="department">
            <option value="">Select Department</option>
            <option value="Computer Science">Computer Science</option>
            <option value="Electronics">Electronics</option>
            <option value="Mechanical">Mechanical</option>
            <option value="Civil">Civil</option>
            <option value="Electrical">Electrical</option>
            <option value="Information Technology">Information Technology</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="dateOfBirth">Date of Birth</label>
          <input type="date" id="dateOfBirth" name="dateOfBirth">
        </div>
        
        <button type="button" class="save-btn" onclick="saveProfile()">Save Changes</button>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; 2025 LICET Cafeteria. All rights reserved.</p>
    <div class="social-links">
      <a href="#" aria-label="Facebook"><img src="Images/Landing Page/facebook.jpg" alt="Facebook"></a>
      <a href="#" aria-label="Instagram"><img src="Images/Landing Page/instagram.jpg" alt="Instagram"></a>
      <a href="#" aria-label="Twitter"><img src="Images/Landing Page/X.png" alt="Twitter"></a>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // Hamburger Menu Toggle
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('active');
    }

    // User Dropdown Toggle
    function toggleDropdown() {
      const dropdown = document.getElementById('dropdownMenu');
      dropdown.classList.toggle('active');
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const userSection = document.querySelector('.user-section');
      const dropdown = document.getElementById('dropdownMenu');
      
      if (!userSection.contains(event.target)) {
        dropdown.classList.remove('active');
      }
    });

    // Profile Modal Functions
    function openProfileModal() {
      document.getElementById('profileModal').style.display = 'block';
      document.getElementById('dropdownMenu').classList.remove('active');
      
      // Load existing data if available
      loadProfileData();
    }

    function closeProfileModal() {
      document.getElementById('profileModal').style.display = 'none';
    }

    function loadProfileData() {
  const userData = JSON.parse(localStorage.getItem('userData')) || {};

  document.getElementById('fullName').value = userData.fullName || '';
  document.getElementById('yearOfStudy').value = userData.yearOfStudy || '';
  document.getElementById('batch').value = userData.batch || '';
  document.getElementById('department').value = userData.department || '';
  document.getElementById('dateOfBirth').value = userData.dateOfBirth || '';

  // Load profile picture
  if (userData.profilePic) {
    document.getElementById('profilePicPreview').src = userData.profilePic;
    document.querySelector('.user-button img').src = userData.profilePic;
  }

  if (userData.fullName) {
    document.getElementById('userName').textContent = userData.fullName;
  }
}


    function handleProfilePicChange(event) {
      const file = event.target.files[0];
      if (file) {
        // Validate file type
        if (!file.type.startsWith('image/')) {
          alert('Please select a valid image file.');
          return;
        }
        
        // Validate file size (max 5MB)
        if (file.size > 5 * 1024 * 1024) {
          alert('Please select an image smaller than 5MB.');
          return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
          const imageDataUrl = e.target.result;
          document.getElementById('profilePicPreview').src = imageDataUrl;
          
          // Store the image data temporarily
          window.tempProfilePic = imageDataUrl;
        };
        reader.readAsDataURL(file);
      }
    }

    function removeProfilePic() {
      // Reset to default profile picture
      const defaultPic = 'Images/Landing Page/User-Logo.png';
      document.getElementById('profilePicPreview').src = defaultPic;
      document.getElementById('profilePicInput').value = '';
      window.tempProfilePic = null;
    }

    function saveProfile() {
      const formData = {
        fullName: document.getElementById('fullName').value,
        yearOfStudy: document.getElementById('yearOfStudy').value,
        batch: document.getElementById('batch').value,
        department: document.getElementById('department').value,
        dateOfBirth: document.getElementById('dateOfBirth').value,
        profilePic: window.tempProfilePic || window.userData?.profilePic || 'Images/Landing Page/User-Logo.png'
      };

      // Save to memory (LocalStorage)
      localStorage.setItem('userData', JSON.stringify(formData));

      
      // Update the display name
      if (formData.fullName) {
        document.getElementById('userName').textContent = formData.fullName;
      }

      // Update the user button profile picture
      if (formData.profilePic) {
        document.querySelector('.user-button img').src = formData.profilePic;
      }

      // Clear temporary profile pic data
      window.tempProfilePic = null;

      // Show success message
      alert('Profile updated successfully!');
      closeProfileModal();
    }

    function logout() {
      const confirmLogout = confirm('Are you sure you want to logout?');
      if (confirmLogout) {
        // Clear user data
        window.userData = {};
        window.tempProfilePic = null;
        
        // In a real app, you would redirect to login page
        alert('You have been logged out successfully!');
        
        // Reset display
        document.getElementById('userName').textContent = 'User Name';
        document.querySelector('.user-button img').src = 'Images/Landing Page/User-Logo.png';
        document.getElementById('dropdownMenu').classList.remove('active');
      }
    }

    // Close modal when clicking outside of it
    window.onclick = function(event) {
      const modal = document.getElementById('profileModal');
      if (event.target === modal) {
        closeProfileModal();
      }
    }

    // Initialize user data storage
    window.userData = window.userData || {};
    document.addEventListener('DOMContentLoaded', () => {
  loadProfileData();
});

  </script>
</body>
</html>